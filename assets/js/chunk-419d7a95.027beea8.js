(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-419d7a95"],{"08ca":function(e,t,a){"use strict";var i=a("6033"),n=a.n(i);n.a},"159b":function(e,t,a){var i=a("da84"),n=a("fdbc"),r=a("17c2"),s=a("9112");for(var c in n){var o=i[c],l=o&&o.prototype;if(l&&l.forEach!==r)try{s(l,"forEach",r)}catch(u){l.forEach=r}}},"17c2":function(e,t,a){"use strict";var i=a("b727").forEach,n=a("a640"),r=a("ae40"),s=n("forEach"),c=r("forEach");e.exports=s&&c?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},4160:function(e,t,a){"use strict";var i=a("23e7"),n=a("17c2");i({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"5fc6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"center-view-container"},[a("div",{staticClass:"center-view-header"},[a("h1",{staticClass:"center-view-title"},[e._v("裁判文书综合测评结果")]),a("div",{staticClass:"header-button-container"},[a("el-button",{attrs:{disabled:e.loading},on:{click:e.downloadPDF}},[e._v("下载为PDF")]),a("el-button",{on:{click:e.downloadJSON}},[e._v("下载为json")]),a("el-button",{on:{click:e.getWritsInTask}},[e._v("任务内文书")])],1)]),a("div",{staticClass:"center-view-body"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"my-report",staticClass:"report-container"},[a("h2",{staticClass:"inner-report-title"},[e._v("裁判文书质量综合测评报告")]),e.received_data?a("el-collapse",{model:{value:e.outer_active,callback:function(t){e.outer_active=t},expression:"outer_active"}},[a("el-collapse-item",{staticClass:"indicator-container",attrs:{name:"basic-info"}},[a("template",{slot:"title"},[a("h3",[e._v("基本信息")])]),a("div",{staticClass:"indicator-body"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,lg:18}},[a("div",{staticClass:"report-long-container"},[a("div",{staticClass:"report-long-indicator"},[e._v("任务名称：")]),a("div",{staticClass:"report-long"},[e._v(e._s(e.received_data.task_name))])])]),a("el-col",{attrs:{sm:24,lg:6}},[e._v("单篇均分："),a("span",{staticClass:"score-total"},[e._v(e._s(e.received_data.score_avg&&e.received_data.score_avg.toFixed&&e.received_data.score_avg.toFixed(1)||"NaN"))])])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,lg:18}},[a("div",{staticClass:"report-long-container"},[a("div",{staticClass:"report-long-indicator"},[e._v("生成时间：")]),a("div",{staticClass:"report-long"},[e._v(e._s(e.received_data.task_time&&new Date(e.received_data.task_time).toLocaleString()||"缺少数据"))])])]),a("el-col",{attrs:{sm:24,lg:6}},[e._v("主观均分："),a("span",{staticClass:"score-total"},[e._v(e._s(e.received_data.subject_score_avg&&e.received_data.subject_score_avg.toFixed&&e.received_data.subject_score_avg.toFixed(1)||"NaN"))])])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:24,lg:18}},[a("div",{staticClass:"report-long-container"},[a("div",{staticClass:"report-long-indicator"},[e._v("文书数量：")]),a("div",{staticClass:"report-long"},[e._v(e._s(e.received_data.writ_num&&Math.ceil(e.received_data.writ_num)||"缺少数据"))])])]),a("el-col",{attrs:{sm:24,lg:6}},[e._v("客观均分："),a("span",{staticClass:"score-total"},[e._v(e._s(e.received_data.object_score_avg&&e.received_data.object_score_avg.toFixed&&e.received_data.object_score_avg.toFixed(1)||"NaN"))])])],1),a("div",{staticClass:"metrics"},[a("div",{staticClass:"report-long-container"},[a("div",{staticClass:"report-long-indicator"},[e._v("度量指标：")]),a("div",{staticClass:"report-long"},e._l(e.received_data.metrics||[],(function(t){return a("el-tag",{staticClass:"my-tag"},[e._v(e._s(t))])})),1)])])],1)],2),a("el-collapse-item",{staticClass:"indicator-container",attrs:{name:"sample-summary"}},[a("template",{slot:"title"},[a("h3",[e._v("样本概况")])]),a("el-collapse",{model:{value:e.sample_summary_active,callback:function(t){e.sample_summary_active=t},expression:"sample_summary_active"}},[a("el-collapse-item",{staticClass:"indicator-container",attrs:{name:"location_distribution"}},[a("template",{slot:"title"},[a("h4",[e._v("文书地域分布")])]),e._e(),a("div",{staticClass:"indicator-body simple-center"},[a("my-map",{attrs:{title:"文书地域分布地图",cities:e.$safeFetch(e.received_data,"location_distribution.x_axis_data",[]),values:e.$safeFetch(e.received_data,"location_distribution.series[0].data",[])},on:{"province-click":e.handleProvinceClick}})],1)],2),a("el-collapse-item",{staticClass:"indicator-container",attrs:{name:"time_distribution"}},[a("template",{slot:"title"},[a("h4",[e._v("文书时间分布")])]),a("div",{staticClass:"indicator-body simple-center"},[e.received_data.time_distribution?a("my-simple-distribution",{attrs:{title:"文书时间分布","raw-data":e.received_data.time_distribution},on:{"year-click":e.handleYearClick}}):e._e()],1)],2)],1)],2),a("el-collapse-item",{staticClass:"indicator-container",attrs:{name:"test-result"}},[a("template",{slot:"title"},[a("h3",[e._v("度量结果")])]),a("el-collapse",{model:{value:e.test_result_active,callback:function(t){e.test_result_active=t},expression:"test_result_active"}},[a("el-collapse-item",{staticClass:"indicator-container",attrs:{name:"objective_metric_avg"}},[a("template",{slot:"title"},[a("h4",[e._v("客观指标平均值")])]),a("div",{staticClass:"indicator-body simple-center"},[e.received_data.radar?a("my-radar-chart",{attrs:{rawArr:e.received_data.radar,title:"客观指标得分雷达图",legend:"客观指标"}}):e._e()],1)],2)],1),a("el-collapse",{model:{value:e.test_result_active,callback:function(t){e.test_result_active=t},expression:"test_result_active"}},[a("el-collapse-item",{staticClass:"indicator-container",attrs:{name:"vs_standard"}},[a("template",{slot:"title"},[a("h4",[e._v("对比标准数据集")])]),a("div",{staticClass:"indicator-body simple-center"},[e.received_data.vs_standard_distribution?a("my-simple-distribution",{attrs:{title:"得分对比","raw-data":e.received_data.vs_standard_distribution}}):e._e()],1)],2)],1)],2)],1):e._e()],1)]),a("el-dialog",{directives:[{name:"draggable",rawName:"v-draggable"}],staticClass:"my-list-dialog",attrs:{title:e.dialogTitle,visible:e.dialogVisible,center:"","modal-append-to-body":!1,"append-to-body":!0,top:"6vh"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("my-writ-list",{ref:"myWritList",attrs:{"task-id":e.task_id,"pre-load":!1,province:e.province,year:e.year}})],1)],1)},n=[],r=(a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),s=a("1fce"),c=a("3daf"),o=a("e339"),l=a("680a"),u=a("9b2f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"line",staticStyle:{width:"480px",height:"480px"}})},h=[],p=(a("4160"),a("b0c0"),a("4d63"),a("ac1f"),a("159b"),a("164e")),v=a.n(p),f="最小值",g="最大值",m="平均值",_={name:"MySimpleDistribution",props:{title:{type:String,required:!0},rawData:{type:Object,required:!0}},beforeMount:function(){this.option.title.text=this.title;var e=this.option.xAxis[0];e.data=this.rawData&&this.rawData.x_axis_data?this.rawData.x_axis_data:[],e.axisLabel.interval=e.data.length<=8?0:"auto",e.axisLabel.show=e.data.length<=8;var t=this.rawData&&this.rawData.series?this.rawData.series:[],a=[];t.forEach((function(e){e.name&&a.push(e.name),e.type||(e.type="bar"),e.data||(e.data=[]),e.markPoint={data:[{type:"max",name:g},{type:"min",name:f}]},e.markLine={data:[{type:"average",name:m}]}})),this.option.legend.data=a,this.option.series=t},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:a=e.$refs["line"],i=v.a.init(a),i.setOption(e.option),i.on("click",(function(t){var a=t.name,i=t.seriesIndex;if(/(\d{4})?年/.test(a)){var n=RegExp.$1;e.$emit("year-click",n)}else if(0===i){if(a===g)return void e.$emit("max-click");if(a===f)return void e.$emit("min-click");a===m&&e.$emit("avg-click",seriesName)}}));case 6:case"end":return t.stop()}}),t)})))()},data:function(){return{option:{title:{text:""},tooltip:{trigger:"axis"},legend:{data:[]},toolbox:{show:!0,feature:{magicType:{show:!0,type:["line","bar"]},saveAsImage:{show:!0}}},calculable:!0,xAxis:[{type:"category",data:[],axisLabel:{show:!0,interval:"auto"}}],yAxis:[{type:"value"}],series:[]}}}},b=_,w=a("2877"),k=Object(w["a"])(b,d,h,!1,null,"e2fc715c",null),y=k.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"map",staticStyle:{width:"520px",height:"520px"}})},C=[];a("d81d"),a("5319");function S(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("e260");function O(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function T(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function j(e){return S(e)||O(e)||T()}var $,R,A,M={name:"MyMap",props:{cities:{type:Array,default:function(){return[]}},values:{type:Array,default:function(){return[]}},title:{type:String,required:!0}},beforeMount:function(){for(var e=this.cities,t=this.values,a=Math.max.apply(Math,j(t)),i=Math.min.apply(Math,j(t)),n=Math.min(e.length||0,t.length||0),r=[],s=0;s<n;s++)r.push({name:e[s].replace(/(壮族|回族|维吾尔)?(自治区|省|市|特别行政区)/,""),value:t[s]});this.option.series[0].data=r,this.option.series[0].name=this.title,this.option.title.text=this.title,this.option.visualMap.min=i-1||0,this.option.visualMap.max=a},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:return i=e.$refs["map"],n=v.a.init(i),t.next=6,a.e("chunk-2d2093cb").then(a.t.bind(null,"a7cb",3));case 6:r=t.sent,s=r.default,s&&(v.a.registerMap("china",s),n.setOption(e.option),n.on("click",(function(t){var a=t.name,i=t.value;isNaN(i)||e.$emit("province-click",a)})));case 9:case"end":return t.stop()}}),t)})))()},data:function(){return{option:{title:{text:""},tooltip:{trigger:"item",formatter:function(e){return e.name+"<br>"+(e.value?e.value+"份":"暂无数据")}},toolbox:{show:!0,orient:"vertical",left:"right",top:"center",feature:{saveAsImage:{show:!0}}},visualMap:{min:800,max:5e4,text:["High","Low"],realtime:!0,calculable:!0,inRange:{color:["lightblue","dodgerblue","blue"]},top:"center"},series:[{name:"",type:"map",mapType:"china",label:{show:!0},data:[]}]}}}},I=M,D=Object(w["a"])(I,x,C,!1,null,"4103f5ea",null),E=D.exports,L=a("6721"),W={name:"WritReport",components:{MyWritList:L["a"],MyMap:E,MySimpleDistribution:y,MyParagraphColorGradient:o["a"],MyRadarChart:c["a"],MyProgress:s["a"]},beforeMount:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.openAllCollapse(),e.loading=!0,t.next=4,e.$api.getTaskReport(e.task_id);case 4:return a=t.sent,a&&(e.received_data=a),t.next=8,Object(u["b"])();case 8:e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()},props:{task_id:{type:String,required:!0}},data:function(){return{dialogVisible:!1,loading:!1,outer_active:null,sample_summary_active:null,test_result_active:null,received_data:null,year:null,province:null,dialogTitle:""}},methods:{handleProvinceClick:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogVisible=!0,t.year=null,t.province=e,t.dialogTitle=t.getTaskTitle()+"任务中【"+e+"】省份的文书",a.next=7,t.$nextTick();case 7:t.$refs["myWritList"].loadWrits();case 8:case"end":return a.stop()}}),a)})))()},handleYearClick:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.dialogVisible=!0,t.year=e,t.province=null,t.dialogTitle=t.getTaskTitle()+"任务中【"+e+"】年的文书",a.next=7,t.$nextTick();case 7:t.$refs["myWritList"].loadWrits();case 8:case"end":return a.stop()}}),a)})))()},openAllCollapse:function(){this.outer_active=["basic-info","sample-summary","test-result"],this.sample_summary_active=["location_distribution","time_distribution"],this.test_result_active=["objective_metric_avg","vs_standard"]},saveCollapseStatus:function(){$=this.outer_active,R=this.sample_summary_active,A=this.test_result_active},recoverCollapseStatus:function(){this.outer_active=$,this.sample_summary_active=R,this.test_result_active=A},downloadPDF:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$loading({fullscreen:!0}),t.next=3,Object(u["b"])();case 3:return i=e.$refs["my-report"],n="综合报告：",e.received_data&&e.received_data&&e.received_data.task_name&&(n+=e.received_data.task_name),n+="_"+(new Date).getTime().toString(),e.saveCollapseStatus(),e.openAllCollapse(),i.classList.add("report-body-to-print"),t.next=12,Object(u["b"])();case 12:return t.next=14,Object(u["a"])(1e3);case 14:return t.next=16,Object(l["a"])(n,i);case 16:e.recoverCollapseStatus(),i.classList.remove("report-body-to-print"),a.close();case 19:case"end":return t.stop()}}),t)})))()},getTaskTitle:function(){return this.$safeFetch(this.received_data,"task_name","")||this.task_id+"号"},downloadJSON:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$loading({fullscreen:!0}),t.next=3,e.$api.getTaskReportJSON(e.task_id);case 3:i=t.sent,i&&(n=document.createElement("a"),n.href=URL.createObjectURL(i),n.download=e.getTaskTitle()+"任务分析结果.json",n.click()),a.close();case 6:case"end":return t.stop()}}),t)})))()},getWritsInTask:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dialogVisible=!0,e.dialogTitle=e.getTaskTitle()+"任务文书列表",t.next=4,e.$nextTick();case 4:e.$refs["myWritList"].loadWrits();case 5:case"end":return t.stop()}}),t)})))()}}},P=W,z=(a("08ca"),Object(w["a"])(P,i,n,!1,null,"17107a78",null));t["default"]=z.exports},6033:function(e,t,a){},6721:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"myWritTable",staticClass:"my-writ-or-task-table",attrs:{data:e.writs,height:"60%",border:"",stripe:""}},[e.taskId?e._e():a("el-table-column",{attrs:{"min-width":"40",align:"center",fixed:""},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}})]}},{key:"default",fn:function(t){var i=t.row,n=t.$index;return[a("el-checkbox",{attrs:{disabled:!e.selectable(i)},on:{change:function(t){e.handleCheck(e.getWrit(n),t),e.handleSelectionChange()}},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"row.checked"}})]}}],null,!1,3863632754)}),a("el-table-column",{attrs:{prop:"id",label:"文书id","min-width":"70",align:"center",fixed:""}}),a("el-table-column",{attrs:{prop:"title",label:"文书文件名","min-width":e.taskId?165:125}}),a("el-table-column",{attrs:{label:"上传时间","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.time.toLocaleString()))]}}])}),a("el-table-column",{attrs:{prop:"length",label:"文书长度","min-width":"80"}}),a("el-table-column",{attrs:{label:"文书状态","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return["untested"===i.status?a("div",[a("el-tag",[a("i",{staticClass:"el-icon-question"}),a("span",[e._v(e._s(e.statusTable[i.status]))])])],1):e._e(),"waiting"===i.status?a("div",[a("el-tag",{attrs:{type:"info"}},[a("i",{staticClass:"el-icon-folder-opened"}),a("span",[e._v(e._s(e.statusTable[i.status]))])])],1):e._e(),"ongoing"===i.status?a("div",[a("el-tag",{attrs:{type:"info"}},[a("i",{staticClass:"el-icon-loading"}),a("span",[e._v(e._s(e.statusTable[i.status]))])])],1):e._e(),"finished"===i.status?a("div",[a("el-tag",{attrs:{type:"success"}},[a("i",{staticClass:"el-icon-success"}),a("span",[e._v(e._s(e.statusTable[i.status]))])])],1):e._e(),"wrong"===i.status?a("div",[a("el-tag",{attrs:{type:"danger"}},[a("i",{staticClass:"el-icon-error"}),a("span",[e._v(e._s(e.statusTable[i.status]))])])],1):e._e(),"accident"===i.status?a("div",[a("el-tag",{attrs:{type:"warning"}},[a("i",{staticClass:"el-icon-warning"}),a("span",[e._v(e._s(e.statusTable[i.status]))])])],1):e._e()]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"80",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,n=t.$index;return["untested"===i.status?a("div",[a("el-button",{staticClass:"my-button",attrs:{icon:"el-icon-s-promotion"},on:{click:function(t){return e.handleTest(i.id,n)}}},[e._v("单独检测")])],1):e._e(),"waiting"===i.status||"ongoing"===i.status?a("div",[a("el-button",{staticClass:"my-button",attrs:{icon:"el-icon-sort",loading:i.fetching},on:{click:function(t){return e.updateStatus(i.id,n)}}},[e._v("更新状态")])],1):e._e(),"finished"===i.status?a("div",[a("el-button",{staticClass:"my-button",attrs:{icon:"el-icon-view",type:"success"},on:{click:function(t){return e.checkSingleResult(i.id)}}},[e._v("查看结果")])],1):e._e(),"wrong"===i.status?a("div",[a("el-button",{staticClass:"my-button",attrs:{icon:"el-icon-document-delete",disabled:""}},[e._v("无法查看")])],1):e._e(),"accident"===i.status?a("div",[a("el-button",{staticClass:"my-button",attrs:{icon:"el-icon-refresh"},on:{click:function(t){return e.handleTest(i.id,n)}}},[e._v("重新检测")])],1):e._e()]}}])})],1),a("el-pagination",{staticClass:"my-pagination",attrs:{disabled:e.loading,"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleChangePage,"size-change":e.loadWrits,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],1)},n=[],r=(a("99af"),a("4160"),a("c975"),a("a434"),a("159b"),a("96cf"),a("1da1"));function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,a){return t&&c(e.prototype,t),a&&c(e,a),e}var l=a("d3e6"),u=a("d0bb"),d=[30,50,100],h=function(){function e(){s(this,e),this.writs=[]}return o(e,[{key:"indexOf",value:function(e){for(var t=0;t<this.writs.length;t++){var a=this.writs[t];if(a.id===e.id)return t}return-1}},{key:"add",value:function(e){return-1===this.indexOf(e)&&(this.writs.push(e),!0)}},{key:"remove",value:function(e){var t=this.indexOf(e);return-1!==t&&(this.writs.splice(t,1),!0)}},{key:"getWrits",value:function(){return this.writs}},{key:"clear",value:function(){this.writs=[]}},{key:"removeByIndex",value:function(e){return e<this.writs.length&&(this.writs[e].checked=!1,this.writs.splice(e,1),!0)}},{key:"getByIndex",value:function(e){if(e<this.writs.length)return this.writs[e]}}]),e}(),p={name:"MyWritList",props:{preLoad:{type:Boolean,default:!0},nameStr:{type:String,default:null},startDate:{type:Date,default:null},endDate:{type:Date,default:null},taskId:{type:String,default:null},status:{type:String,default:null},year:{type:String,default:null},province:{type:String,default:null}},beforeMount:function(){this.preLoad&&this.loadWrits()},data:function(){return{statusTable:u["d"],loading:!1,writs:[],checkedCache:new h,checkAll:!1,isIndeterminate:!1,checkedCounter:0,currentPage:1,pageSizes:d,pageSize:d[0],total:0,fromPage:!0}},methods:{refreshCheckAll:function(){this.checkAll=this.writs.length>0&&this.checkedCounter===this.writs.length},refreshIndeterminate:function(){this.isIndeterminate=this.checkedCounter>0&&this.checkedCounter<this.writs.length},handleCheckAllChange:function(e){var t=this;this.writs.forEach((function(a){t.handleCheck(a,e)})),this.refreshIndeterminate(),this.handleSelectionChange()},getWrit:function(e){return this.writs[e]},handleCheck:function(e,t){this.selectable(e)&&(e.checked!==t&&(e.checked=t),t?this.checkedCache.add(e)&&this.checkedCounter++:this.checkedCache.remove(e)&&this.checkedCounter--,this.refreshCheckAll(),this.refreshIndeterminate())},removeByIndex:function(e){this.checkedCache.removeByIndex(e)&&this.checkedCounter--,this.refreshCheckAll(),this.refreshIndeterminate(),this.handleSelectionChange()},updateStatus:function(e,t){var a=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.writs[t].fetching=!0,i.next=3,a.$api.getWritStatus(e);case 3:n=i.sent,n&&(a.$message.info({message:"".concat(e,'号文书状态为"').concat(a.statusTable[n],'"'),duration:1500}),a.writs[t].status=n),a.writs[t].fetching=!1;case 6:case"end":return i.stop()}}),i)})))()},handleLoad:function(e,t,a,i,n,s,c,o,l){var u=this;return Object(r["a"])(regeneratorRuntime.mark((function r(){var d,h,p,v,f,g,m;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return u.loading=!0,r.next=3,u.$api.getWrits({nameStr:e,startDate:t,endDate:a,taskId:i,pageIndex:n,pageSize:s,status:c,year:o,province:l});case 3:if(d=r.sent,d&&d.result){for(h=0,p=0;p<d.result.length;p++)v=d.result[p],f=u.checkedCache.indexOf(v),g=-1!==f,g?(m=u.checkedCache.getByIndex(f),m.status=v.status,m.fetching=v.fetching||!1,d.result[p]=m,h++):(v.checked=!1,v.fetching=!1),v.time=new Date(v.time);u.writs=d.result,u.checkedCounter=h,u.total=d.total||0,u.refreshCheckAll(),u.refreshIndeterminate()}return r.next=7,u.$nextTick();case 7:u.loading=!1;case 8:case"end":return r.stop()}}),r)})))()},loadWrits:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading){t.next=7;break}return e.loading=!0,e.currentPage=1,t.next=5,e.handleLoad(e.nameStr,e.startDate,e.endDate,e.taskId,e.currentPage,e.pageSize,e.status,e.year,e.province);case 5:t.next=8;break;case 7:e.$message.warning("请在加载结束后再检索");case 8:case"end":return t.stop()}}),t)})))()},handleChangePage:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading){t.next=3;break}return t.next=3,e.handleLoad(e.nameStr,e.startDate,e.endDate,e.taskId,e.currentPage,e.pageSize,e.status,e.year,e.province);case 3:case"end":return t.stop()}}),t)})))()},refreshWrits:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading){t.next=8;break}return e.loading=!0,e.currentPage=1,e.pageSize=d[0],t.next=6,e.handleLoad();case 6:t.next=9;break;case 8:e.$message.warning("请在加载结束后再检索");case 9:case"end":return t.stop()}}),t)})))()},checkSingleResult:function(e){var t="/resources/writ-report/".concat(e);this.taskId?open(Object(l["a"])()+t,"_blank"):this.$router.push(t)},handleSelectionChange:function(){this.$emit("selection-change",this.checkedCache.getWrits())},selectable:function(e){return"untested"===e.status||"accident"===e.status},handleTest:function(e,t){this.$emit("handle-test",e,t)},clearSelection:function(){this.checkedCache.clear(),this.handleSelectionChange()},changeStatus:function(e,t){this.writs[e].status=t}}},v=p,f=a("2877"),g=Object(f["a"])(v,i,n,!1,null,null,null);t["a"]=g.exports},a434:function(e,t,a){"use strict";var i=a("23e7"),n=a("23cb"),r=a("a691"),s=a("50c4"),c=a("7b0b"),o=a("65f0"),l=a("8418"),u=a("1dde"),d=a("ae40"),h=u("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,f=Math.min,g=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!h||!p},{splice:function(e,t){var a,i,u,d,h,p,_=c(this),b=s(_.length),w=n(e,b),k=arguments.length;if(0===k?a=i=0:1===k?(a=0,i=b-w):(a=k-2,i=f(v(r(t),0),b-w)),b+a-i>g)throw TypeError(m);for(u=o(_,i),d=0;d<i;d++)h=w+d,h in _&&l(u,d,_[h]);if(u.length=i,a<i){for(d=w;d<b-i;d++)h=d+i,p=d+a,h in _?_[p]=_[h]:delete _[p];for(d=b;d>b-i+a;d--)delete _[d-1]}else if(a>i)for(d=b-i;d>w;d--)h=d+i-1,p=d+a-1,h in _?_[p]=_[h]:delete _[p];for(d=0;d<a;d++)_[d+w]=arguments[d+2];return _.length=b-i+a,u}})},a630:function(e,t,a){var i=a("23e7"),n=a("4df4"),r=a("1c7e"),s=!r((function(e){Array.from(e)}));i({target:"Array",stat:!0,forced:s},{from:n})},b64b:function(e,t,a){var i=a("23e7"),n=a("7b0b"),r=a("df75"),s=a("d039"),c=s((function(){r(1)}));i({target:"Object",stat:!0,forced:c},{keys:function(e){return r(n(e))}})},c975:function(e,t,a){"use strict";var i=a("23e7"),n=a("4d64").indexOf,r=a("a640"),s=a("ae40"),c=[].indexOf,o=!!c&&1/[1].indexOf(1,-0)<0,l=r("indexOf"),u=s("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:o||!l||!u},{indexOf:function(e){return o?c.apply(this,arguments)||0:n(this,e,arguments.length>1?arguments[1]:void 0)}})},d0bb:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return c}));a("4160"),a("b64b"),a("159b");var i={untested:"尚未检测",waiting:"等待检测",ongoing:"在检测中",finished:"检测完成",wrong:"解析错误",accident:"意外中断"},n={waiting:"等待检测",ongoing:"在检测中",finished:"检测完成",failed:"检测失败"},r=function(e,t,a){var i=[];return Object.keys(e).forEach((function(n){var r={},s=e[n];r[t]=n,r[a]=s,i.push(r)})),i},s=r(i,"value","label"),c=r(n,"value","label")},d81d:function(e,t,a){"use strict";var i=a("23e7"),n=a("b727").map,r=a("1dde"),s=a("ae40"),c=r("map"),o=s("map");i({target:"Array",proto:!0,forced:!c||!o},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);