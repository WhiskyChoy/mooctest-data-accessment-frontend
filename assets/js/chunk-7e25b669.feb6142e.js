(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e25b669"],{"0141":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"center-view-container"},[a("div",{staticClass:"center-view-header"},[a("h1",{staticClass:"center-view-title"},[e._v("上传新文书")]),a("div",{staticClass:"tool-container"},[a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.handleClear}},[e._v("清空")]),a("el-button",{attrs:{type:"primary",loading:e.loading,icon:"el-icon-upload2"},on:{click:e.handleUpload}},[e._v("提交")]),a("div",{staticClass:"my-switch-container"},[a("label",{staticClass:"my-label-replace"},[e._v("替换同名文件")]),a("el-switch",{model:{value:e.replace,callback:function(t){e.replace=t},expression:"replace"}})],1)],1)]),a("div",{staticClass:"center-view-body"},[a("el-upload",{directives:[{name:"scrollable",rawName:"v-scrollable.el-upload",modifiers:{"el-upload":!0}}],ref:"myUpload",staticClass:"my-upload",attrs:{action:"",drag:"",multiple:"","auto-upload":!1,"on-change":e.handleChange,"http-request":e.httpRequest,"on-error":e.handleError,accept:"text/xml, application/xml, application/zip, application/x-zip-compressed"}},[a("i",{staticClass:"el-icon-upload"}),a("div",[e._v("将zip/xml文件拖至此处，或 "),a("em",{staticClass:"upload-click"},[e._v("点此上传")])])])],1)])},r=[],i=(a("99af"),a("b0c0"),a("d3b7"),a("ac1f"),a("5319"),a("96cf"),a("1da1")),o=function(e,t){for(var a=0;a<t.length-1;a++){var n=t[a];if(e.raw.name===n.raw.name)return a}return-1},s={name:"WritUpload",methods:{handleClear:function(){this.$refs["myUpload"].clearFiles()},handleUpload:function(){this.$refs["myUpload"].submit()},handleError:function(e,t){var a=t.raw,n=a.name;this.handleMsg("上传文件“".concat(n,"”失败"),"error")},handleMsg:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=3500;this.msgPromise=this.msgPromise.then((function(){t.$message({message:e,type:a,duration:n})}))},handleChange:function(e,t){if("ready"===e.status){var a=e.raw,n=a.type.toLowerCase(),r="text/xml"===n||"application/xml"===n,i="application/zip"===n||"application/x-zip-compressed"===n;if(!r&&!i)return t.pop(),void this.handleMsg("上传的文件格式不正确","error");var s=o(e,t);if(s>=0)if(this.replace){var c=t[s].status,l="success"===c?"已提交，覆盖后需重新上传":"重复，已覆盖该文件";t[s]=e,t.pop(),this.handleMsg("文件“".concat(a.name,"”").concat(l))}else t.pop(),this.handleMsg("文件“".concat(a.name,"”重复，未覆盖该文件"))}},httpRequest:function(e){var t=this,a=e.file,n=e.onProgress,r=e.onSuccess,o=e.onError;return Object(i["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.postWrit({file:a,onProgress:n});case 2:i=e.sent,i?r():o();case 4:case"end":return e.stop()}}),e)})))()}},data:function(){return{loading:!1,replace:!0,msgPromise:Promise.resolve()}}},c=s,l=(a("9de8"),a("2877")),d=Object(l["a"])(c,n,r,!1,null,"421d131a",null);t["default"]=d.exports},"99af":function(e,t,a){"use strict";var n=a("23e7"),r=a("d039"),i=a("e8b5"),o=a("861d"),s=a("7b0b"),c=a("50c4"),l=a("8418"),d=a("65f0"),p=a("1dde"),u=a("b622"),f=a("2d00"),h=u("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",g=f>=51||!r((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),w=p("concat"),b=function(e){if(!o(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)},x=!g||!w;n({target:"Array",proto:!0,forced:x},{concat:function(e){var t,a,n,r,i,o=s(this),p=d(o,0),u=0;for(t=-1,n=arguments.length;t<n;t++)if(i=-1===t?o:arguments[t],b(i)){if(r=c(i.length),u+r>m)throw TypeError(v);for(a=0;a<r;a++,u++)a in i&&l(p,u,i[a])}else{if(u>=m)throw TypeError(v);l(p,u++,i)}return p.length=u,p}})},"9de8":function(e,t,a){"use strict";var n=a("f806"),r=a.n(n);r.a},f806:function(e,t,a){}}]);